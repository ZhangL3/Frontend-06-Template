# 学习笔记 Week 6

## Number

### 运行时

JS 中的 Number 是 double float (IEEE 754)
64 bit = 1 sign + 11 exponent + 52 fraction

十进制表示小数 0.789 = 789 * 10 ^ -3

二进制表示小数 0.101 = 101 * 2 ^ -3

minifloat (8 bit) 为例作为理解

因为在 exponent 上要表示正数(小数点向右移动)和负数(小数点向左移动)，所以要有一个固定的值作为基准，小于这个值则为负数，大于这个值为正数，这个值一般为 e 的第一位为 1，后面为 0, 再减 1，8 bit 中就是 1000 - 1 (8 - 1), 即为7。所以真正的 exoponent 值为 e 的值减去 7

在 e 和 f 之间，还有一个隐藏位，这个位上的值永远为 1，因为纯小数的 f 部分必须以 1 开始，这样不会浪费空间

例 1；

|s|e|e|e|e|f|f|f|
|-|-|-|-|-|-|-|-|
|0|*1*|*0*|*1*|*1*|**0**|**1**|**1**|

=> \+ **1011** * 2 ^ (*1011* - 7)

=> **1011** * 2 ^ ( 11 - 7)

=> **1011** * 2 ^ 4

=> **10110000**

=> 176

例 2:

|s|e|e|e|e|f|f|f|
|-|-|-|-|-|-|-|-|
|1|*0*|*0*|*1*|*1*|**0**|**1**|**1**|

=> \- **1011** * 2 ^ (*0011* - 7)

=> \- **1011** * 2 ^ (3 - 7)

=> \- **1011** * 2 ^ -4

=> \- **0.1011**

=> \- 0.6875

### 语法

因为 0.2 === .2
0.toString() 会报错，以为 .toString() 会被当作小数部分处理，正确写法为 0. toString()

## String

### 运行时

1. Character

    抽象的概念，结合字体才能显示

2. Code Point

    数字表示 Character

3. Encoding

    ASCII (0 - 127) -> Unicode (000 - FFF)

    #### UTF-8 & UTF-16

    中文 "一" 的 UTF-16 编码为 11100100 10111000 10000000

    |**i**|**i**|**i**|**i**|c|c|c|c||**i**|**i**|c|c|c|c|c|c||**i**|**i**|c|c|c|c|c|c|
    |-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|-|
    |**1**|**1**|**1**|**0**|0|1|0|0||**1**|**0**|1|1|1|0|0|0||**1**|**0**|0|0|0|0|0|0|

    **i** 为标识符，第一个 byte 里的 **1** **1** **1** **0** 表示这个字符占了 3 个 byte，算上自己，还包括后面两个
    
    **c** 为 code 的值 